{% extends "base.html" %}
{% block content %}
<div class="card card-50">
  <h2>Horarios <br> {{ 'Río Cuarto → Córdoba' if route=='RC-CBA' else 'Córdoba → Río Cuarto' }} <br> {{ on_date }}</h2>
<table class="table">
  <colgroup>
    <col class="col-hora">
    <col class="col-cupo">
    <col class="col-estado">
    <col class="col-cta">
  </colgroup>
  <thead>
    <tr>
      <th>Hora</th>
      <th>Cupos</th>
      <th>Estado</th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    {% for s, free, ok in availability %}
    <tr>
      <td>{{ s.time }}</td>
      <td>{{ free }}/{{ s.capacity }}</td>
      <td>
        {% if ok %}<span class="badge">Disponible</span>{% else %}<span class="badge">Agotado</span>{% endif %}
      </td>
      <td>
        {% if ok %}
          <a href="{{ url_for('shared_book', schedule_id=s.id) }}?p={{ passengers }}"><button class="btn-reservar">Reservar</button></a>
        {% else %}
          <button class="secondary btn-reservar" disabled>Sin cupo</button>
        {% endif %}
      </td>
    </tr>
    {% endfor %}
  </tbody>
</table>

  <a href="{{ url_for('shared') }}"><button class="secondary">Volver</button></a>
</div>
{% endblock %}
